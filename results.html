<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
<link rel="stylesheet" href="Coin-Compare-Stylesheet.css">

<head>
  <meta charset="UTF-8">
  <title>Coin Compare</title>
</head>



<div class="myResults">
  <h2>This is an example chart</h2>
  <p>Ready for our crypto additions!</p>
</div>



<div id="result_chart"> 
  <div>
    <canvas id="myChart"></canvas>
  </div>
  
  <div id="coin_stats">
    <p id="coin_market_cap">Market Cap:</p>
    <p id="coin_volume">Volume</p>
    <p id="coin_percentage_change">Perctange change</p>
  </div>
</div>

<input type="Reset" id="coin_comparison_reset_button">

<table style="width:50%" id="result_chart"> Coin Comparisons
  <tr>
    <th>Name</th>
    <th>Price</th>
    <th>Market Cap</th>
  </tr>

  <tbody id="tableBody"></tbody>
</table>

<div>
  <input type="text" placeholder="Search.." class="coin_comparison_searchbar">
  <input type="submit" id="coin_comparison_search_button">
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

var resetButton = document.getElementById('coin_comparison_reset_button');
var searchButton = document.getElementById('coin_comparison_search_button')


//Change labels to dynamically display only the past 7 days.
const labels = [
  'January',
  'February',
  'March',
  'April',
  'May',
  'June',
];

//will have to pull coin info and plug it into data. 
//for labels, use API provided labels. For data, use dynamically provided API data. 
//for "label", change it to coin[name]. 
//for data, pull 7 day data.
const data = {
  labels: labels,
  datasets: [{
    label: 'My First dataset',
    backgroundColor: 'rgb(255, 99, 132)',
    borderColor: 'rgb(255, 99, 132)',
    data: [0, 10, 5, 2, 20, 30, 45],
  }]
};

const config = {
  type: 'line',
  data,
  options: {}
};


var myChart = new Chart(
      document.getElementById('myChart'),
      config
);

//this appends the current coin to the coin_stats display.

    var currentCard = $("coin_stats").append("<div>").addClass("card-body");
    currentCard.empty();
    //var currentName = currentCard.append("<p>");
    // currentCard.append(currentName);
    
    //append market data to the card. 
    var currentTemp = currentName.append("<p>");
        currentName.append(currentTemp);
        currentTemp.append("<p>" + "Market Cap: " + data['main']['temp'].toFixed(2) + "</p>");
        currentTemp.append("<p>" + "Volume: " + data['main']['humidity'] + "%" + "</p>");
        currentTemp.append("<p>" + "Change: " + data['price'][0] + "</p>");
  </script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="assets.js"></script>
</body>
</html>